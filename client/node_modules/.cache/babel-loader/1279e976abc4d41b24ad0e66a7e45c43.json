{"ast":null,"code":"var _jsxFileName = \"/Users/ziadeldessouky/Desktop/rutgers/homework/newproj3/finalproject3/client/src/components/Profile.js\";\nimport React, { Component } from \"react\";\nimport Button from \"@material-ui/core/Button\"; // import TextField from \"@material-ui/core/TextField\";\n\nimport Typography from \"@material-ui/core/Typography\";\nimport { fireAuth } from \"../fireApi\";\nimport API from '../utils/API';\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = event => {\n      this.setState({\n        value: event.target.value\n      });\n      console.log(this.state);\n    };\n\n    this.onSubmit = event => {\n      event.preventDefault();\n      const userPantry = {\n        id: this.state._id,\n        newPantry: this.state.value\n      };\n      API.addPantry(userPantry.id, {\n        pantry: userPantry.newPantry\n      }) // .then(res => res.json({pantry:this.state.value}))\n      .then(res => this.loadUser(this.state.fBaseId)).catch(err => console.log(err));\n    };\n\n    this.onDeleteItem = () => {\n      API.deletePantry(this.state._id).then(res => res.json({\n        pantry: this.state.value\n      })).then(res => this.loadUser(this.state.fBaseId)).catch(err => console.log(err));\n    };\n\n    this.state = {\n      _id: this.props.activeUser.data._id,\n      username: this.props.activeUser.data.username,\n      email: this.props.activeUser.data.email,\n      fBaseId: this.props.activeUser.data.fBaseId,\n      //database pantry\n      pantry: [this.props.activeUser.data.pantry],\n      //added on page\n      newPantry: [],\n      value: '',\n      favRecipes: this.props.activeUser.data.favRecipes\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n  } // this.handleInputChange = this.handleInputChange.bind(this);\n  // this.onChangePantry = this.onChangePantry.bind(this);\n  // console.log(this.state)\n  // componentDidMount() {\n  //   this.loadUser();\n  // }\n  // loadUser = (uid) => {\n  //   API.getUser(uid)\n  //     .then(res =>\n  //       this.setState({ activeUser: this.props.activeUser.data })\n  //     )\n  //     .catch(err => console.log(err));\n  // };\n  // onSubmit = event => {\n  //   // event.preventDefault();\n  // }\n\n\n  // onAddItem = () => {\n  //   this.setState(state => {\n  //     const pantry = [...state.pantry, state.value];\n  //     return {\n  //       pantry,\n  //       value: '',\n  //     };\n  //   });\n  // };\n  onLogOut() {\n    window.location = \"/\";\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"subtitle1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"My name is \", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, this.props.displayName)), React.createElement(Typography, {\n      variant: \"subtitle1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"My name is \", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, this.props.id)), React.createElement(Typography, {\n      variant: \"subtitle1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Name: \", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, this.props.activeUser.data.username)), React.createElement(Typography, {\n      variant: \"subtitle1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Pantry: \", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, this.props.activeUser.data.pantry.join(\"\\n \") + this.state.newPantry)), React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      value: this.state.value,\n      onChange: this.onChange,\n      name: \"pantry\",\n      type: \"text\",\n      placeholder: \"Add to pantry\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(Button, {\n      type: \"submit\" // onClick={this.onAddItem()}\n      // disabled={!this.state.value}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Submit Book\")), React.createElement(Button, {\n      variant: \"contained\",\n      onClick: () => {\n        fireAuth.signOut();\n        this.onLogOut();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Logout\"));\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/Users/ziadeldessouky/Desktop/rutgers/homework/newproj3/finalproject3/client/src/components/Profile.js"],"names":["React","Component","Button","Typography","fireAuth","API","Profile","constructor","props","onChange","event","setState","value","target","console","log","state","onSubmit","preventDefault","userPantry","id","_id","newPantry","addPantry","pantry","then","res","loadUser","fBaseId","catch","err","onDeleteItem","deletePantry","json","activeUser","data","username","email","favRecipes","bind","onLogOut","window","location","render","displayName","join","signOut"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Button from \"@material-ui/core/Button\";\n// import TextField from \"@material-ui/core/TextField\";\n\nimport Typography from \"@material-ui/core/Typography\";\nimport { fireAuth } from \"../fireApi\";\n\nimport API from '../utils/API';\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n        this.state = {\n        _id: this.props.activeUser.data._id,\n        username: this.props.activeUser.data.username,\n        email: this.props.activeUser.data.email,\n        fBaseId: this.props.activeUser.data.fBaseId,\n        //database pantry\n        pantry: [this.props.activeUser.data.pantry],\n        //added on page\n        newPantry: [],\n        value: '',\n        favRecipes: this.props.activeUser.data.favRecipes\n      };\n      this.onSubmit = this.onSubmit.bind(this);\n  }\n// this.handleInputChange = this.handleInputChange.bind(this);\n// this.onChangePantry = this.onChangePantry.bind(this);\n// console.log(this.state)\n\n\n\n// componentDidMount() {\n//   this.loadUser();\n// }\n\n// loadUser = (uid) => {\n//   API.getUser(uid)\n//     .then(res =>\n//       this.setState({ activeUser: this.props.activeUser.data })\n//     )\n//     .catch(err => console.log(err));\n// };\n\n// onSubmit = event => {\n//   // event.preventDefault();\n\n  \n// }\n\nonChange = event => {\n  this.setState({ value: event.target.value });\n  console.log(this.state)\n};\n\nonSubmit = (event) => {\n  event.preventDefault()\n\n    const userPantry = {\n      id: this.state._id,\n      newPantry: this.state.value\n    }\n\n    API.addPantry(userPantry.id,{pantry: userPantry.newPantry})\n    // .then(res => res.json({pantry:this.state.value}))\n      .then(res => this.loadUser(this.state.fBaseId))\n      .catch(err => console.log(err));\n  \n};\n\nonDeleteItem = () => {\n\n  API.deletePantry(this.state._id)\n  .then(res => res.json({pantry:this.state.value}))\n    .then(res => this.loadUser(this.state.fBaseId))\n    .catch(err => console.log(err));\n\n};\n// onAddItem = () => {\n//   this.setState(state => {\n//     const pantry = [...state.pantry, state.value];\n//     return {\n//       pantry,\n//       value: '',\n//     };\n//   });\n// };\n\n\nonLogOut(){\n  window.location = \"/\"\n}\n\n\nrender() {\n  return (\n    <React.Fragment>\n      <Typography variant={\"subtitle1\"}>\n        My name is <b>{this.props.displayName}</b>\n      </Typography>\n      <Typography variant={\"subtitle1\"}>\n        My name is <b>{this.props.id}</b>\n      </Typography>\n      <Typography variant={\"subtitle1\"}>\n        Name: <b>{this.props.activeUser.data.username}</b>\n      </Typography>\n\n      <Typography variant={\"subtitle1\"}>\n        Pantry: <b>{this.props.activeUser.data.pantry.join(\"\\n \") + this.state.newPantry}</b>\n        {/* this is working, back on after testing */}\n        {/* { this.props.activeUser.data.pantry.map(pantry => <li>{pantry}</li>)} */}\n      </Typography>\n\n      <form onSubmit={this.onSubmit}>\n        <input\n          value={this.state.value}\n          onChange={this.onChange}\n          name=\"pantry\"\n          type=\"text\"\n          placeholder=\"Add to pantry\"\n        />\n        <Button type=\"submit\"\n\n          // onClick={this.onAddItem()}\n          // disabled={!this.state.value}\n        >\n          Submit Book\n        </Button>\n\n      </form>\n\n      <Button variant={\"contained\"} onClick={() => {fireAuth.signOut();this.onLogOut()}} >\n        Logout\n      </Button>\n    </React.Fragment>\n  );\n}\n}\nexport default Profile;"]},"metadata":{},"sourceType":"module"}