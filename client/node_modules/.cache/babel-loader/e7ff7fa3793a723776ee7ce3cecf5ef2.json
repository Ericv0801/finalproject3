{"ast":null,"code":"var _jsxFileName = \"c:\\\\Users\\\\aldoh\\\\OneDrive\\\\Desktop\\\\rutgers\\\\homework\\\\FinalProject3\\\\finalproject3\\\\client\\\\src\\\\App.js\";\nimport React from 'react';\nimport ReactDOM from \"react-dom\";\nimport _ from \"lodash\";\nimport { BrowserRouter, Switch, Route, Link } from \"react-router-dom\";\nimport Typography from \"@material-ui/core/Typography\";\nimport './App.css';\nimport Home from './components/Home';\nimport Profile from './components/Profile';\nimport LoginForm from './components/LoginForm';\nimport Public from './components/Public';\nimport { fireAuth } from \"./fireApi\";\nimport withAuthProtection from \"./withAuthProtection\";\nimport API from '../src/utils/API';\nimport SignUpForm from './components/SignUpForm';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar';\nimport Overlay from 'react-bootstrap/Overlay';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Popover from 'react-bootstrap/Popover';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\n\nconst Wrapper = props => React.createElement(\"div\", Object.assign({\n  style: {\n    maxWidth: 400,\n    padding: 16,\n    margin: \"auto\"\n  }\n}, props, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 25\n  },\n  __self: this\n}));\n\nconst ProtectedProfile = withAuthProtection(\"/login\")(Profile);\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.handleSignIn = history => (email, password) => {\n      return fireAuth.signInWithEmailAndPassword(email, password).then(() => {\n        return history.push(\"/profile\");\n      });\n    };\n\n    this.handleSignUp = history => (email, password) => {\n      fireAuth.createUserWithEmailAndPassword(email, password).catch(function (error) {\n        // Handle Errors here.\n        var errorCode = error.code;\n        var errorMessage = error.message; // ...\n      });\n      return history.push(\"/profile\");\n    };\n\n    console.log(\"user\", fireAuth.currentUser);\n    this.state = {\n      me: fireAuth.currentUser,\n      activeUser: {}\n    };\n  }\n\n  componentDidMount() {\n    fireAuth.onAuthStateChanged(me => {\n      console.log(me.uid);\n      API.getUser(me.uid).then(d => {\n        this.setState({\n          activeUser: d\n        }); // returns user info and set it to new state \n\n        console.log(this.state.activeUser);\n      });\n      this.setState({\n        me\n      });\n    });\n  }\n\n  render() {\n    const {\n      me\n    } = this.state;\n\n    const email = _.get(me, \"email\");\n\n    const id = _.get(me, \"uid\");\n\n    const activeUser = this.state.activeUser;\n    return React.createElement(BrowserRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      bg: \"white\",\n      expand: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Navbar.Brand, {\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Pantry\"), React.createElement(Navbar.Toggle, {\n      \"aria-controls\": \"basic-navbar-nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(Navbar.Collapse, {\n      id: \"basic-navbar-nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      className: \"mr-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Home\"), React.createElement(Nav.Link, {\n      href: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Login\"), React.createElement(Nav.Link, {\n      href: \"/profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Profile\", React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/profile\",\n      exact: true,\n      render: props => React.createElement(Wrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Home\"), React.createElement(ProtectedProfile, Object.assign({}, props, {\n        me: me,\n        displayName: email,\n        id: id,\n        activeUser: activeUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }))),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }))))))) //   <Switch>\n    //     <Route\n    //       path=\"/\"\n    //       exact\n    //       render={() => (\n    //         <Wrapper>\n    //           <Link to=\"/login\" style={{ marginRight: 16 }}>\n    //             Login\n    //           </Link>\n    //           <Link to=\"/profile\">Profile</Link>\n    //           <Home />\n    //         </Wrapper>\n    //       )}\n    //     />\n    //     <Route\n    //       path=\"/login\"\n    //       exact\n    //       render={({ history }) => (\n    //         <Wrapper>\n    //           <Link to=\"/\">Home</Link>\n    //           <LoginForm onSubmit={this.handleSignIn(history)} />\n    //           <ButtonToolbar>\n    //             {['Sign Up'].map(placement => (\n    //               <OverlayTrigger\n    //                 trigger=\"click\"\n    //                 key={placement}\n    //                 placement={placement}\n    //                 overlay={\n    //                   <Popover id={`popover-positioned-${placement}`}>\n    //                     <Popover.Title as=\"h3\">{`${placement}`}</Popover.Title>\n    //                     <Popover.Content>\n    //                       <SignUpForm onSubmit={this.handleSignUp(history)} me={me} />\n    //                     </Popover.Content>\n    //                   </Popover>\n    //                 }\n    //               >\n    //                 <Button variant=\"primary\">{placement}</Button>\n    //               </OverlayTrigger>\n    //             ))}\n    //           </ButtonToolbar>\n    //         </Wrapper>\n    //       )}\n    //     />\n    //     {/* <Route\n    //       path=\"/profile\"\n    //       exact\n    //       render={props => (\n    //         <Wrapper>\n    //           <Link to=\"/\">Home</Link>\n    //           <ProtectedProfile {...props} me={me} displayName={email} id={id} activeUser={activeUser} />\n    //         </Wrapper>\n    //       )}\n    //     /> */}\n    //     <Route\n    //       path=\"/public\"\n    //       exact\n    //       render={() => (\n    //         <Wrapper>\n    //           <Link to=\"/\">Home</Link>\n    //           <Public />\n    //         </Wrapper>\n    //       )}\n    //     />\n    //   </Switch>\n    // </BrowserRouter>\n    ;\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["c:/Users/aldoh/OneDrive/Desktop/rutgers/homework/FinalProject3/finalproject3/client/src/App.js"],"names":["React","ReactDOM","_","BrowserRouter","Switch","Route","Link","Typography","Home","Profile","LoginForm","Public","fireAuth","withAuthProtection","API","SignUpForm","Modal","Button","ButtonToolbar","Overlay","OverlayTrigger","Popover","Navbar","Nav","Wrapper","props","maxWidth","padding","margin","ProtectedProfile","App","Component","constructor","handleSignIn","history","email","password","signInWithEmailAndPassword","then","push","handleSignUp","createUserWithEmailAndPassword","catch","error","errorCode","code","errorMessage","message","console","log","currentUser","state","me","activeUser","componentDidMount","onAuthStateChanged","uid","getUser","d","setState","render","get","id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from \"react-dom\";\nimport _ from \"lodash\";\nimport { BrowserRouter, Switch, Route, Link } from \"react-router-dom\";\nimport Typography from \"@material-ui/core/Typography\";\nimport './App.css';\nimport Home from './components/Home';\nimport Profile from './components/Profile';\nimport LoginForm from './components/LoginForm';\nimport Public from './components/Public';\nimport { fireAuth } from \"./fireApi\";\nimport withAuthProtection from \"./withAuthProtection\";\nimport API from '../src/utils/API';\nimport SignUpForm from './components/SignUpForm';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar';\nimport Overlay from 'react-bootstrap/Overlay';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Popover from 'react-bootstrap/Popover';\nimport Navbar from 'react-bootstrap/Navbar'\nimport Nav from 'react-bootstrap/Nav'\n\nconst Wrapper = props => (\n  <div style={{ maxWidth: 400, padding: 16, margin: \"auto\" }} {...props} />\n);\n\nconst ProtectedProfile = withAuthProtection(\"/login\")(Profile);\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    console.log(\"user\", fireAuth.currentUser);\n    this.state = {\n      me: fireAuth.currentUser,\n      activeUser: {}\n    };\n  }\n\n  componentDidMount() {\n    fireAuth.onAuthStateChanged(me => {\n      console.log(me.uid)\n\n\n      API.getUser(me.uid).then(d => {\n        this.setState({ activeUser: d })\n        // returns user info and set it to new state \n        console.log(this.state.activeUser)\n      })\n      this.setState({ me });\n    });\n\n  };\n\n\n\n  handleSignIn = history => (email, password) => {\n    return fireAuth.signInWithEmailAndPassword(email, password).then(() => {\n      return history.push(\"/profile\");\n    });\n  };\n  handleSignUp = history => (email, password) => {\n    fireAuth.createUserWithEmailAndPassword(email, password).catch(function (error) {\n      // Handle Errors here.\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      // ...\n    }\n    );\n    return history.push(\"/profile\");\n  };\n\n  render() {\n    const { me } = this.state;\n    const email = _.get(me, \"email\");\n    const id = _.get(me, \"uid\");\n    const activeUser = this.state.activeUser\n    return (\n      <BrowserRouter>\n\n        <Navbar bg=\"white\" expand=\"lg\">\n          <Navbar.Brand href=\"/\">Pantry</Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Nav className=\"mr-auto\">\n              <Nav.Link href=\"/\">Home\n             </Nav.Link>\n              <Nav.Link href=\"/login\">Login</Nav.Link>\n              <Nav.Link href=\"/profile\">Profile\n              <Switch>\n                   <Route\n                  path=\"/profile\"\n                  exact\n                  render={props => (\n                    <Wrapper>\n                      <Link to=\"/\">Home</Link>\n                      <ProtectedProfile {...props} me={me} displayName={email} id={id} activeUser={activeUser} />\n                    </Wrapper>\n                  )}\n                />\n        </Switch>\n\n\n              </Nav.Link>\n\n            </Nav>\n          </Navbar.Collapse>\n        </Navbar>\n        </BrowserRouter>\n\n\n      //   <Switch>\n      //     <Route\n      //       path=\"/\"\n      //       exact\n      //       render={() => (\n      //         <Wrapper>\n      //           <Link to=\"/login\" style={{ marginRight: 16 }}>\n      //             Login\n      //           </Link>\n      //           <Link to=\"/profile\">Profile</Link>\n      //           <Home />\n      //         </Wrapper>\n      //       )}\n      //     />\n      //     <Route\n      //       path=\"/login\"\n      //       exact\n      //       render={({ history }) => (\n      //         <Wrapper>\n      //           <Link to=\"/\">Home</Link>\n      //           <LoginForm onSubmit={this.handleSignIn(history)} />\n\n      //           <ButtonToolbar>\n      //             {['Sign Up'].map(placement => (\n      //               <OverlayTrigger\n      //                 trigger=\"click\"\n      //                 key={placement}\n      //                 placement={placement}\n      //                 overlay={\n      //                   <Popover id={`popover-positioned-${placement}`}>\n      //                     <Popover.Title as=\"h3\">{`${placement}`}</Popover.Title>\n      //                     <Popover.Content>\n      //                       <SignUpForm onSubmit={this.handleSignUp(history)} me={me} />\n      //                     </Popover.Content>\n      //                   </Popover>\n      //                 }\n      //               >\n      //                 <Button variant=\"primary\">{placement}</Button>\n      //               </OverlayTrigger>\n      //             ))}\n      //           </ButtonToolbar>\n      //         </Wrapper>\n      //       )}\n      //     />\n      //     {/* <Route\n      //       path=\"/profile\"\n      //       exact\n      //       render={props => (\n      //         <Wrapper>\n      //           <Link to=\"/\">Home</Link>\n      //           <ProtectedProfile {...props} me={me} displayName={email} id={id} activeUser={activeUser} />\n      //         </Wrapper>\n      //       )}\n      //     /> */}\n      //     <Route\n      //       path=\"/public\"\n      //       exact\n      //       render={() => (\n      //         <Wrapper>\n      //           <Link to=\"/\">Home</Link>\n      //           <Public />\n      //         </Wrapper>\n      //       )}\n      //     />\n      //   </Switch>\n\n      // </BrowserRouter>\n    );\n  }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}