(this["webpackJsonprecipe-app"]=this["webpackJsonprecipe-app"]||[]).push([[0],{109:function(e,t,n){e.exports=n(152)},114:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},152:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(10),c=n.n(i),o=(n(114),n(16)),l=n(14),s=n(19),u=n(20),m=n(21),p=n(78),d=n.n(p),f=n(56),h=n(43),v=(n(116),n(93)),b=(n(117),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to Pantry"),r.a.createElement("div",{className:"jumbotronContainer"},r.a.createElement(v.a,{className:"jumbotron"})))}}]),t}(r.a.Component)),g=n(36),E=n.n(g),y=n(49),j=n(95),O=n(25),S=n(18),k=n(185),C=n(33),w=n(186),I=n(79),x=n(151),U=function(e){return r.a.createElement("div",null,e.instructions)},D=n(39),R=n.n(D),B=function(e){return R.a.post("/user/add",e)},P=function(e){return R.a.get("/user/"+e)},A=function(e,t){return R.a.post("/user/addPantry/"+e,t)},L=function(e,t){return R.a.post("/user/addFav/"+e,t)},N=function(e,t){return R.a.post("/user/deletePantry/"+e,t)},F=function(e,t){return R.a.post("/user/deleteFav/"+e,t)},W=function(e){var t=e.title,n=e.image,i=e.id,c=e.userID,o=Object(a.useState)([]),l=Object(C.a)(o,2),s=l[0],u=l[1],m=Object(a.useState)(""),p=Object(C.a)(m,2),d=p[0],f=p[1],h=Object(a.useState)(!1),v=Object(C.a)(h,2),b=v[0],g=v[1],j=function(){return g(!1)};Object(a.useEffect)((function(){O()}),[d]);var O=function(){var e=Object(y.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.spoonacular.com/recipes/".concat(d,"/information?includeNutrition=false&apiKey=").concat("60d9128af34b4f85baab35d9135e7ff3"));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,u(n),console.log(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(w.a,{style:{width:"18rem"}},r.a.createElement(w.a.Img,{variant:"top",src:n}),r.a.createElement(w.a.Body,null,r.a.createElement(w.a.Title,null,t),r.a.createElement(w.a.Text,null),r.a.createElement(I.a,{onClick:function(e){e.preventDefault(),f(e.target.value),g(!0)},value:i,variant:"primary"},"Get Recipe")),r.a.createElement(x.a,{show:b,onHide:j},r.a.createElement(x.a.Header,{closeButton:!0},r.a.createElement(x.a.Title,null,"Instructions for: ",t)),r.a.createElement(x.a.Body,null,r.a.createElement(U,{instructions:s.instructions})),r.a.createElement(x.a.Footer,null,r.a.createElement(I.a,{variant:"secondary",onClick:j},"Close"),r.a.createElement(I.a,{variant:"primary",onClick:function(){L(c,{favRecipes:{title:t,image:n,recipesInstructions:s.instructions}}).catch((function(e){return console.log(e)})),console.log(c),console.log(s.instructions)}},"Save Changes"))))},H=function(){var e=Object(a.useState)([]),t=Object(C.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(""),o=Object(C.a)(c,2),l=(o[0],o[1]),s=Object(a.useState)(""),u=Object(C.a)(s,2),m=u[0],p=u[1];Object(a.useEffect)((function(){console.log("Effect has been run"),d()}),[m]);var d=function(){var e=Object(y.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.spoonacular.com/recipes/findByIngredients?ingredients=".concat(m,"&number=2&apiKey=").concat("60d9128af34b4f85baab35d9135e7ff3"));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,i(n),console.log(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(n),r.a.createElement("div",{className:"App"},r.a.createElement(_,{callbackFromParent:function(e){p(e),l("")}}),n.map((function(e){return r.a.createElement(W,{key:e.title,title:e.title,image:e.image,id:e.id})})))},K=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={ingredients:[],text:""},n.removeIngredient=n.removeIngredient.bind(Object(S.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"AddIngredient",value:function(e){e.preventDefault(),this.setState({ingredients:[this.state.text].concat(Object(O.a)(this.state.ingredients)),text:""})}},{key:"removeIngredient",value:function(e){var t=this.state.ingredients.slice();t.splice(e,1),this.setState({ingredients:t})}},{key:"updateValue",value:function(e){this.setState({text:e.target.value})}},{key:"recipeSearch",value:function(e){e.preventDefault();var t=this.state.ingredients.join();this.props.callbackFromParent(t)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{backgroundColor:"silver",width:"300px"}},r.a.createElement("form",{onSubmit:function(t){return e.AddIngredient(t)}},r.a.createElement("input",{placeholder:"Add Ingredient",value:this.state.text,onChange:function(t){e.updateValue(t)},style:{float:"left",backgroundColor:"white"}}),r.a.createElement("button",null,"Add Ingredient")),r.a.createElement(T,{ingredients:this.state.ingredients,removeIngredient:this.removeIngredient}),r.a.createElement("button",{onClick:function(t){return e.recipeSearch(t)},type:"submit"},"search Recipe"))}}]),t}(r.a.Component),T=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"removeItem",value:function(e){this.props.removeIngredient(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("ul",null,this.props.ingredients.map((function(t,n){return r.a.createElement("li",null,t," ",r.a.createElement("button",{onClick:function(){e.removeItem(n)},key:n},"x"))}))))}}]),t}(r.a.Component),_=K,q=n(179),M=n(96),z=n.n(M),V=(n(144),z.a.initializeApp({apiKey:"AIzaSyBhhESbbxKj1B-E2U1-l8YUmq0rR3yKHys",authDomain:"recipe-app-auth-protection.firebaseapp.com",projectId:"recipe-app-auth-protection"}).auth()),J=function(e){function t(e){var n;return Object(o.a)(this,t),console.log("props that have ID"+e),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){n.setState({value:e.target.value})},n.onSubmit=function(e){e.preventDefault(),e.target.reset();var t={id:n.state._id,newPantry:n.state.value},a=Object(j.a)(Array,Object(O.a)(n.state.pantry));a.push(t.newPantry),A(t.id,{pantry:t.newPantry}).then((function(e){n.setState({pantry:a})})).catch((function(e){return console.log(e)}))},n.onDeleteItem=function(e,t){var a=n.state.pantry.slice();a.splice(t,1),N(n.state._id,{pantry:e}).then((function(e){return n.setState({pantry:a})})).catch((function(e){return console.log(e)}))},n.onDeleteRecipe=function(e,t){var a=n.state.favRecipes.slice();a.splice(t,1),F(n.state._id,{title:e}).then((function(e){return n.setState({favRecipes:a})})).catch((function(e){return console.log(e)}))},n.CurrentPantry=function(){var e=Object(y.a)(E.a.mark((function e(t){var a,r,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n.state.pantry.join(),console.log(a),e.next=5,fetch("https://api.spoonacular.com/recipes/findByIngredients?ingredients=".concat(a,"&number=10&apiKey=60d9128af34b4f85baab35d9135e7ff3"));case 5:return r=e.sent,e.next=8,r.json();case 8:i=e.sent,n.setState({recipes:i}),console.log(n.state.recipes);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={recipes:[""],_id:n.props.activeUser.data._id,fBaseId:n.props.activeUser.data.fBaseId,pantry:n.props.activeUser.data.pantry,value:"",favRecipes:n.props.activeUser.data.favRecipes},n.onSubmit=n.onSubmit.bind(Object(S.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onLogOut",value:function(){window.location="/"}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{variant:"subtitle1"},"My name is ",r.a.createElement("b",null,this.props.displayName)),r.a.createElement(q.a,{variant:"subtitle1"},"My ID is ",r.a.createElement("b",null,this.props.id)),r.a.createElement("h1",null,"HELLO: ",r.a.createElement("b",null,this.props.activeUser.data.username),","),r.a.createElement(q.a,{variant:"subtitle1"},this.state.pantry.map((function(t,n){return r.a.createElement("li",{className:"deleteItem","data-value":t,key:n},t," ",r.a.createElement(k.a,{onClick:function(){e.onDeleteItem(t,n)}},"X")," ")}))),r.a.createElement(q.a,{variant:"subtitle1"}," THESE ARE UR FAVE RECIPES",this.state.favRecipes.map((function(t,n){return r.a.createElement("div",{className:"favorite","data-value":t,key:n},t.title," ",r.a.createElement("br",null),t.recipesInstructions,r.a.createElement("img",{src:t.image}),r.a.createElement(k.a,{onClick:function(){e.onDeleteRecipe(t.title,n)}},"X"))}))),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{value:this.state.value,onChange:this.onChange,name:"pantry",type:"text",placeholder:"Add to pantry"}),r.a.createElement(k.a,{type:"submit",variant:"contained",color:"primary"},"Add Ingridient")),r.a.createElement(k.a,{variant:"contained",onClick:function(){V.signOut(),e.onLogOut()}},"Logout"),r.a.createElement("div",{className:"App"},r.a.createElement(k.a,{variant:"contained",color:"primary",type:"submit",onClick:function(t){e.CurrentPantry(t)}},"Search Recipes"),this.state.recipes.map((function(t){return r.a.createElement(W,{saveRecipe:e.saveRecipe,userID:e.state._id,key:t.title,title:t.title,image:t.image,id:t.id})}))))}}]),t}(a.Component),X=n(29),G=n(184),Y=n(183),$=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleSubmit=function(t){t.preventDefault();var n=e.props.onSubmit,a=e.state,r=a.email,i=a.password;n&&(e.setState({submitting:!0}),n(r,i))},e.handleChange=function(t){return function(n){e.setState(Object(X.a)({},t,n.target.value))}},e.state={email:"",password:"",submitting:!1},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,a=e.submitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{variant:"h5",style:{marginBottom:24}},"Login"),r.a.createElement("form",{style:{display:"flex",flexDirection:"column"},onSubmit:this.handleSubmit},r.a.createElement(G.a,{style:{marginBottom:24},variant:"outlined",required:!0,type:"email",label:"Email",value:t,onChange:this.handleChange("email")}),r.a.createElement(G.a,{style:{marginBottom:24},variant:"outlined",required:!0,type:"password",label:"Password",value:n,onChange:this.handleChange("password")}),r.a.createElement(k.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},a?r.a.createElement(Y.a,{style:{color:"#fff"},color:"inherit",size:16}):"Login")))}}]),t}(r.a.Component),Q=function(e){return function(t){return function(n){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,n),Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this.props.history;if(!V.currentUser)return t.push(e)}},{key:"componentWillReceiveProps",value:function(t){var n=this.props,a=n.me,r=n.history,i=t.me;if(a&&!i)return r.push(e)}},{key:"render",value:function(){return this.props.me?r.a.createElement(t,this.props):null}}]),a}(r.a.Component)}},Z=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleSubmit=function(t){t.preventDefault();var n=e.props.onSubmit,a=e.state,r=a.email,i=a.password;n&&(e.setState({submitting:!0}),n(r,i)),alert("thank you for signing up, now you can login"),console.log(e.state.email,e.props.id)},e.handleChange=function(t){return function(n){e.setState(Object(X.a)({},t,n.target.value))}},e.state={email:"",password:"",submitting:!1},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,a=e.submitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{style:{display:"flex",flexDirection:"column"},onSubmit:this.handleSubmit},r.a.createElement(G.a,{style:{marginBottom:24},variant:"outlined",required:!0,type:"email",label:"Email",value:t,onChange:this.handleChange("email")}),r.a.createElement(G.a,{style:{marginBottom:24},variant:"outlined",required:!0,type:"password",label:"Password",value:n,onChange:this.handleChange("password")}),r.a.createElement(k.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},a?r.a.createElement(Y.a,{style:{color:"#fff"},color:"inherit",size:16}):"Submit")),r.a.createElement(q.a,{variant:"subtitle1"},"My ID is ",r.a.createElement("b",null,this.props.id)))}}]),t}(r.a.Component),ee=n(99),te=n(102),ne=n(72),ae=n(58),re=n(57),ie=function(e){return r.a.createElement("div",Object.assign({style:{padding:16,margin:"auto"}},e))},ce=Q("/login")(J),oe=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).isSomeoneSignedIn=function(){return e.state.activeUser?r.a.createElement(ce,Object.assign({},e.state.props,{me:e.state.me,displayName:e.state.email,id:e.state.id,activeUser:e.state.activeUser})):r.a.createElement(ce,null)},e.handleSignIn=function(e){return function(t,n){return V.signInWithEmailAndPassword(t,n).then((function(){return e.push("/profile")}))}},e.handleSignUp=function(e){return function(t,n){return V.createUserWithEmailAndPassword(t,n).catch((function(e){e.code,e.message})),e.push("/profile")}},console.log("user",V.currentUser),e.state={me:V.currentUser,activeUser:{}},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;V.onAuthStateChanged((function(t){console.log(t.email),B({email:t.email,fBaseId:t.uid}).catch((function(e){return console.log(e)})),P(t.uid).then((function(t){e.setState({activeUser:t})})),e.setState({me:t})}))}},{key:"onLogOut",value:function(){window.location="/"}},{key:"render",value:function(){var e=this,t=this.state.me,n=d.a.get(t,"email"),a=d.a.get(t,"uid"),i=this.state.activeUser;return r.a.createElement(f.a,null,r.a.createElement(ae.a,{bg:"white",expand:"lg"},r.a.createElement(ae.a.Brand,{href:"/"},"Pantry"),r.a.createElement(ae.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(ae.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(re.a,{className:"mr-auto"},r.a.createElement(re.a.Link,null,r.a.createElement(f.b,{to:"/"},"Home")),r.a.createElement(re.a.Link,null,r.a.createElement(f.b,{to:"/login",style:{marginRight:16}},"Login")),r.a.createElement(re.a.Link,null," ",r.a.createElement(f.b,{to:"/profile"},"Profile"))),r.a.createElement(I.a,{variant:"contained",onClick:function(){V.signOut(),e.onLogOut()}},"Logout"))),r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/",exact:!0,render:function(){return r.a.createElement(ie,null,r.a.createElement(b,null))}}),r.a.createElement(h.a,{path:"/login",exact:!0,render:function(t){var n=t.history;return r.a.createElement(ie,null,r.a.createElement($,{onSubmit:e.handleSignIn(n)}),r.a.createElement(ee.a,null,["Sign Up"].map((function(t){return r.a.createElement(te.a,{trigger:"click",key:t,placement:t,overlay:r.a.createElement(ne.a,{id:"popover-positioned-".concat(t)},r.a.createElement(ne.a.Title,{as:"h3"},"".concat(t)),r.a.createElement(ne.a.Content,null,r.a.createElement(Z,{onSubmit:e.handleSignUp(n)})))},r.a.createElement(I.a,{variant:"primary"},t))}))))}}),r.a.createElement(h.a,{path:"/profile",exact:!0,render:function(e){return r.a.createElement(ie,null,r.a.createElement(ce,Object.assign({},e,{me:t,displayName:n,id:a,activeUser:i})))}}),r.a.createElement(h.a,{path:"/public",exact:!0,render:function(){return r.a.createElement(ie,null,r.a.createElement(H,null))}})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[109,1,2]]]);
//# sourceMappingURL=main.d3d65045.chunk.js.map